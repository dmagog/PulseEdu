# Пульс.EDU — IDEA

Версия: v0.1 (2025‑09‑06)
Автор(ы): команда проекта
Статус: черновик для согласования

> **Назначение документа.** Зафиксировать продуктовую идею и рамки MVP для веб‑сервиса «Пульс.EDU» без технической реализации. Все вопросы архитектуры и стека будут проработаны отдельно в **vision.md**.

---

## 1. Видение и ценность

**Что создаём.** Веб‑сервис для выявления студентов в зоне риска и выдачи персонализированных рекомендаций на основе объединённых учебных данных.

**Кому полезно.**

- **Студентам** — единое окно прогресса по всем курсам, лента событий и подсказки, напоминания о дедлайнах.
- **Преподавателям** — фокус на студентах/группах с риском, подтверждение/редактирование AI‑рекомендаций, отслеживание обратной связи.
- **РОП** — обзор успеваемости по курируемым программам и учебным группам.
- **Оператору данных** — безопасная загрузка данных из Excel и запуск пересчётов.
- **Администратору** — управление пользователями и параметрами сервиса.

**Бизнес‑цели.**

1. сделать контроль обучения прозрачным и управляемым;
2. снизить время на контроль для каждой целевой группы;
3. оперативно выявлять потенциальные проблемы на уровне студента, группы и курса;
4. повысить скорость реагирования на проблемы.

---

## 2. Роли и доступы

**Состав ролей:** Студент, Преподаватель, РОП, Оператор данных, Администратор.

**Комбинации ролей:** один пользователь может иметь любой набор ролей; права суммируются.

**Матрица доступа (MVP):**

- **Студент** — видит только собственную успеваемость + агрегированные показатели своей учебной группы (без чужих персональных данных).
- **Преподаватель** — видит свои курсы, привязанные учебные группы и всех студентов этих курсов.
- **РОП** — видит все программы и группы, которые курирует (агрегированные отчёты и сводные списки рисков).
- **Оператор данных** — загрузка/валидация Excel, запуск пересчёта метрик, просмотр журналов загрузки.
- **Администратор** — управление пользователями/ролями, системными параметрами (например, настройки SMTP для e‑mail), просмотр всех данных.

---

## 3. Область MVP (Scope)

**Включено:**

- Загрузка данных из **Excel‑файлов** вручную (Оператор данных).
- Автоматический пересчёт метрик **сразу после загрузки**.
- Генерация **AI‑рекомендаций** с флагом *«проверено преподавателем»*.
- Оценка рекомендаций студентом (рейтинги **1–5 звёзд**); рекомендации с низкой оценкой попадают в отдельный список преподавателя.
- **E‑mail уведомления**: по итогам загрузки/пересчёта, при появлении новых рекомендаций, напоминания о приближающихся дедлайнах.
- Интерфейс студента с **лентой событий** (сдачи, статусы «на проверке», «просрочено», % прохождения этапа).
- RU/ENG локализации интерфейса (переключатель языка).
- Локальное развёртывание.

**Исключено (Out of Scope на MVP):**

- Интеграции с внешними системами (в т.ч. **my.itmo**) — **только заглушечные API** с выгрузкой во внешний файл.
- Telegram‑бот и пуш‑уведомления.
- A/B‑эксперименты на рекомендациях.
- Выгрузки из личных кабинетов (CSV/XLSX).
- Отдельные требования по приватности/комплаенсу — фиксируются на следующих этапах по мере необходимости.
- Описание стека/архитектуры — **в документе vision.md**.

---

## 4. Ключевые пользовательские сценарии (MVP)

### 4.1 Студент

1. Авторизация → Домашняя страница.
2. **Лента событий**: сдачи отчётных мероприятий, статусы (успех/на проверке/просрочка), прогресс до следующего этапа.
3. Блок **«Рекомендации»**: новые подсказки по предметам/темам; возможность поставить оценку (1–5 звёзд).
4. Раздел **«Моя группа (агрегаты)»**: средний прогресс и доля просрочек по группе (без персоналий).
5. Уведомления на e‑mail при новых рекомендациях и перед дедлайнами.

### 4.2 Преподаватель

1. Сводка по **моим курсам/группам**: список студентов «в зоне внимания».
2. **Очередь рекомендаций**: подтверждение/редактирование AI‑рекомендаций, проставление статуса *«проверено преподавателем»*.
3. **Отдельный список** рекомендаций с низкой оценкой студентов (для доработки).
4. Базовые отчёты (табличные списки) по курсу/группе: прогресс, просрочки, динамика.

### 4.3 РОП

1. Свод по **курируемым программам**: агрегированные показатели, тренды рисков, проблемные курсы/группы.
2. Навигация к спискам групп и курсов для детализации (без лишних персональных деталей где не требуется).

### 4.4 Оператор данных

1. Загрузка **Excel‑файлов** (один или несколько) → проверка структуры → протокол валидации.
2. Подтверждение загрузки → автопересчёт метрик → отчёт о завершении.
3. Просмотр **журнала загрузок** (дата, источник, объём, ошибки).

### 4.5 Администратор

1. Управление пользователями и ролями.
2. Настройки сервиса (SMTP, параметры уведомлений, лимиты и др.).

---

## 5. Данные и интеграции (MVP)

**Источник данных:** Excel‑файлы (ручная загрузка Оператором данных).
**Словари:** формируются/уточняются на этапе первичной загрузки и могут эволюционировать.
**Внешние интеграции:** заглушечные API‑эндпоинты (на данном этапе выгружают данные во внешний файл).

### 5.1 Рекомендуемый минимальный шаблон Excel

> Шаблон может быть реализован как несколько листов в одном файле или как несколько файлов. Поля «ID» — строковые стабильные идентификаторы.

**Students**

| Field       | Тип    | Описание                |
| ----------- | ------ | ----------------------- |
| student\_id | string | Уникальный ID студента  |
| last\_name  | string | Фамилия                 |
| first\_name | string | Имя                     |
| email       | string | E‑mail для уведомлений  |
| group\_id   | string | Учебная группа (ссылка) |

**Programs**

| Field         | Тип    | Описание           |
| ------------- | ------ | ------------------ |
| program\_id   | string | Программа          |
| program\_name | string | Название программы |
| rop\_user\_id | string | Пользователь‑РОП   |

**Groups**

| Field       | Тип    | Описание             |
| ----------- | ------ | -------------------- |
| group\_id   | string | Учебная группа       |
| program\_id | string | Привязка к программе |

**Courses**

| Field             | Тип    | Описание                      |
| ----------------- | ------ | ----------------------------- |
| course\_id        | string | Курс                          |
| course\_name      | string | Название курса                |
| teacher\_user\_id | string | Преподаватель (ответственный) |

**Enrollments** (зачисления/связи студент–курс)

| Field          | Тип    | Описание     |
| -------------- | ------ | ------------ |
| enrollment\_id | string | Запись связи |
| student\_id    | string | Студент      |
| course\_id     | string | Курс         |
| group\_id      | string | Группа       |

**Assessments** (отчётные мероприятия)

| Field          | Тип    | Описание                  |
| -------------- | ------ | ------------------------- |
| assessment\_id | string | Мероприятие               |
| course\_id     | string | Курс                      |
| title          | string | Название                  |
| weight         | number | Вес в итоговой оценке (%) |
| due\_date      | date   | Дедлайн сдачи             |

**Grades** (фактические результаты)

| Field          | Тип      | Описание                                       |
| -------------- | -------- | ---------------------------------------------- |
| grade\_id      | string   | Запись оценки                                  |
| student\_id    | string   | Студент                                        |
| assessment\_id | string   | Мероприятие                                    |
| score          | number   | Набранные баллы (0..100 или шкала курса)       |
| submitted\_at  | datetime | Дата/время сдачи                               |
| status         | enum     | `submitted` / `on_review` / `late` / `missing` |

**Dictionaries** (по мере необходимости)

- Типы мероприятий, шкалы оценивания, статусы и др.

Модель данных условная и детально будет прорабатываться по структуре данных в выгрузках из учебных систем.

---

## 6. Выявление риска и рекомендации

**Определение критериев риска** фиксируется отдельной спецификацией (последующий этап). Для MVP закладываем процесс:

1. После загрузки данных вычисляются базовые показатели по студенту/курсу:
   - прогресс по отчётным мероприятиям относительно плана;
   - количество и доля **просроченных**/отсутствующих работ;
   - набранные баллы vs. цель/ожидаемый минимум на дату;
   - (опционально) отклонение от медианы группы по курсу.
2. На основе правил/эвристик формируется перечень **рисков** и причин (напр.: «низкий прогресс», «много просрочек», «резкое снижение динамики»).
3. Генерируются **персональные рекомендации** (чек‑листы действий, материалы для повторения, напоминания о ближайших дедлайнах).
4. Преподаватель подтверждает/редактирует рекомендации; статус *«проверено преподавателем»* становится видимым студенту.
5. Студент оценивает полезность рекомендаций (**1–5 звёзд**). Рекомендации с низкой оценкой попадают в отдельный список для доработки преподавателем.

> Примечание: на MVP **не проводим A/B‑эксперименты**; качество рекомендаций оценивается по совокупности обратной связи и динамике метрик.

---

## 7. Уведомления (MVP)

**Канал:** E‑mail.

**Триггеры:**

- Завершилась загрузка/пересчёт данных — отправить дайджест изменений соответствующим пользователям.
- Появились **новые рекомендации** студенту.
- Приближение **дедлайна** по отчётному мероприятию (например, за 72/24 часа; точные правила уточним на настройке).



---

## 8. Интерфейсы и навигация (черновая структура)

- **Кабинет студента**: лента событий; карточки курсов с прогресс‑барами; блок «Рекомендации» (с оценкой); виджет «Моя группа (агрегаты)»; календарь дедлайнов.
- **Кабинет преподавателя**: список курсов/групп; очередь рекомендаций (подтвердить/исправить); список низкооценённых рекомендаций; таблица рисков.
- **Кабинет РОП**: обзор программ; рейтинг/тепловая карта курсов и групп; переход к деталям.
- **Оператор данных**: загрузка Excel, валидация, журнал загрузок.
- **Администратор**: пользователи/роли; параметры уведомлений.

> Подробная компоновка дашбордов будет проработана на отдельном этапе (UI/UX‑эскизы, приоритизация виджетов).

---

## 9. Метрики успеха и KPI

Подробные целевые метрики будут определены на отдельном этапе. Для ориентира (к обсуждению):

- Доля студентов, у которых риск выявлен **до** наступления критического события (незачёт/отчисление/массовые долги).
- Снижение доли просроченных работ и среднего времени закрытия «долгов».
- Доля рекомендаций со статусом *«проверено преподавателем»* и средняя оценка рекомендаций студентами.
- Сокращение времени ручного контроля у преподавателя/РОП.

---

## 10. Риски и ограничения (MVP)

- **Качество данных** при ручной загрузке (структурные ошибки, пропуски, несоответствия словарям).
- **Нагрузка на преподавателей** при верификации рекомендаций.
- **Уведомления**: риск «шумных» писем → потребуется бережная настройка частоты.
- **Локальное развёртывание**: ограничения по внешним интеграциям до следующего этапа.

План смягчения: строгая валидация Excel; справочники на первичной загрузке; очереди на подтверждение с фильтрами; настраиваемые окна уведомлений.

---

### Изменения

- **v0.1 (2025‑09‑06):** первый черновик по итогам согласованных вводных.

